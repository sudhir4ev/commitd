---
import { getCollection } from 'astro:content'
import Layout from '@layouts/Layout.astro'
import Container from '@components/Container.astro'
import Link from '@components/Link.astro'

const pages = await getCollection('pages')
---

<Layout title="Content" description="Long-form content and case studies.">
  <Container>
    <aside data-pagefind-ignore>
      <h1 class="font-semibold text-black dark:text-white">
        Content
      </h1>
      <p class="mt-2 text-neutral-600 dark:text-neutral-400">
        Long-form pages built from markdown in <code class="rounded border border-black/15 px-1 dark:border-white/20">assets/content</code>.
      </p>
      <ul class="not-prose mt-6 flex flex-col gap-3">
        {
          pages.map((entry) => (
            <li>
              <Link href={`/content/${entry.id}`}>
                {entry.data.title}
              </Link>
            </li>
          ))
        }
      </ul>
    </aside>
  </Container>
</Layout>
